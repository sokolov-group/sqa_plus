temp -= 2 * einsum('XY,Iiab,Jaib->IXJY', np.identity(ncas), t1_xxee, v_xexe, optimize = einsum_type)
temp += einsum('XY,Iiab,Jbia->IXJY', np.identity(ncas), t1_xxee, v_xexe, optimize = einsum_type)
temp -= 2 * einsum('XY,Iiab,Jaib->IXJY', np.identity(ncas), t1_xvee, v_xeve, optimize = einsum_type)
temp += einsum('XY,Iiab,Jbia->IXJY', np.identity(ncas), t1_xvee, v_xeve, optimize = einsum_type)
temp -= 2 * einsum('XY,Jiab,Iaib->IXJY', np.identity(ncas), t1_xxee, v_xexe, optimize = einsum_type)
temp += einsum('XY,Jiab,Ibia->IXJY', np.identity(ncas), t1_xxee, v_xexe, optimize = einsum_type)
temp -= 2 * einsum('XY,Jiab,Iaib->IXJY', np.identity(ncas), t1_xvee, v_xeve, optimize = einsum_type)
temp += einsum('XY,Jiab,Ibia->IXJY', np.identity(ncas), t1_xvee, v_xeve, optimize = einsum_type)
temp += einsum('Iiab,Jaib,XY->IXJY', t1_xxee, v_xexe, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('Iiab,Jbia,XY->IXJY', t1_xxee, v_xexe, rdm_ca, optimize = einsum_type)
temp += einsum('Iiab,Jaib,XY->IXJY', t1_xvee, v_xeve, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('Iiab,Jbia,XY->IXJY', t1_xvee, v_xeve, rdm_ca, optimize = einsum_type)
temp += einsum('Jiab,Iaib,XY->IXJY', t1_xxee, v_xexe, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('Jiab,Ibia,XY->IXJY', t1_xxee, v_xexe, rdm_ca, optimize = einsum_type)
temp += einsum('Jiab,Iaib,XY->IXJY', t1_xvee, v_xeve, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('Jiab,Ibia,XY->IXJY', t1_xvee, v_xeve, rdm_ca, optimize = einsum_type)
temp += einsum('I,XY,Iiab,Jiab->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp -= 1/2 * einsum('I,XY,Iiab,Jiba->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp += einsum('I,XY,Iiab,Jiab->IXJY', e_cvs, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp -= 1/2 * einsum('I,XY,Iiab,Jiba->IXJY', e_cvs, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp += einsum('J,XY,Iiab,Jiab->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp -= 1/2 * einsum('J,XY,Iiab,Jiba->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp += einsum('J,XY,Iiab,Jiab->IXJY', e_cvs, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp -= 1/2 * einsum('J,XY,Iiab,Jiba->IXJY', e_cvs, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp -= 2 * einsum('a,XY,Jiab,Iiab->IXJY', e_extern, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp += einsum('a,XY,Jiab,Iiba->IXJY', e_extern, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp += einsum('a,XY,Jiba,Iiab->IXJY', e_extern, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp -= 2 * einsum('a,XY,Jiba,Iiba->IXJY', e_extern, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp -= 2 * einsum('a,XY,Jiab,Iiab->IXJY', e_extern, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp += einsum('a,XY,Jiab,Iiba->IXJY', e_extern, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp += einsum('a,XY,Jiba,Iiab->IXJY', e_extern, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp -= 2 * einsum('a,XY,Jiba,Iiba->IXJY', e_extern, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp += einsum('i,XY,Iiab,Jiab->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp -= 1/2 * einsum('i,XY,Iiab,Jiba->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp += einsum('i,XY,Jiab,Iiab->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp -= 1/2 * einsum('i,XY,Jiab,Iiba->IXJY', e_cvs, np.identity(ncas), t1_xxee, t1_xxee, optimize = einsum_type)
temp += einsum('i,XY,Iiab,Jiab->IXJY', e_val, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp -= 1/2 * einsum('i,XY,Iiab,Jiba->IXJY', e_val, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp += einsum('i,XY,Jiab,Iiab->IXJY', e_val, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp -= 1/2 * einsum('i,XY,Jiab,Iiba->IXJY', e_val, np.identity(ncas), t1_xvee, t1_xvee, optimize = einsum_type)
temp -= 1/2 * einsum('I,Iiab,Jiab,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('I,Iiab,Jiba,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('I,Iiab,Jiab,XY->IXJY', e_cvs, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('I,Iiab,Jiba,XY->IXJY', e_cvs, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('J,Iiab,Jiab,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('J,Iiab,Jiba,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('J,Iiab,Jiab,XY->IXJY', e_cvs, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('J,Iiab,Jiba,XY->IXJY', e_cvs, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp += einsum('a,Jiab,Iiab,XY->IXJY', e_extern, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('a,Jiab,Iiba,XY->IXJY', e_extern, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('a,Jiba,Iiab,XY->IXJY', e_extern, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp += einsum('a,Jiba,Iiba,XY->IXJY', e_extern, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp += einsum('a,Jiab,Iiab,XY->IXJY', e_extern, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('a,Jiab,Iiba,XY->IXJY', e_extern, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('a,Jiba,Iiab,XY->IXJY', e_extern, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp += einsum('a,Jiba,Iiba,XY->IXJY', e_extern, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('i,Iiab,Jiab,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('i,Iiab,Jiba,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('i,Jiab,Iiab,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('i,Jiab,Iiba,XY->IXJY', e_cvs, t1_xxee, t1_xxee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('i,Iiab,Jiab,XY->IXJY', e_val, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('i,Iiab,Jiba,XY->IXJY', e_val, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp -= 1/2 * einsum('i,Jiab,Iiab,XY->IXJY', e_val, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
temp += 1/4 * einsum('i,Jiab,Iiba,XY->IXJY', e_val, t1_xvee, t1_xvee, rdm_ca, optimize = einsum_type)
